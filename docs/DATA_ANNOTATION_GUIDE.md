# 数据标注指南

## 概述

本指南面向参与数据标注的项目组成员，帮助您理解标注规范、标注流程和质量标准。

## 标签体系

### 一、意图标签 (Intent Labels)

#### 1. Query_Asset - 查询资产

**定义**: 用户想了解某个资产的基本信息、属性或状态。

**关键词**: 查询、详情、信息、负责人、版本、状态

**示例**:
- ✅ "XX系统的详情是什么？"
- ✅ "资产A的负责人是谁？"
- ✅ "客户管理系统的版本号是多少？"
- ✅ "HR系统现在是什么状态？"

**标注格式**:
```json
{
  "intent": "Query_Asset",
  "entities": [
    {"type": "Asset", "value": "XX系统"},
    {"type": "Attribute", "value": "负责人"}
  ]
}
```

#### 2. Query_Scenario - 查询场景

**定义**: 用户想了解某个业务场景的流程、描述或相关信息。

**关键词**: 场景、流程、怎么走、介绍、说明

**示例**:
- ✅ "新员工入职流程怎么走？"
- ✅ "介绍一下季度财报分析场景"
- ✅ "月度数据上报是做什么的？"
- ✅ "客户信息维护场景的详细说明"

**标注格式**:
```json
{
  "intent": "Query_Scenario",
  "entities": [
    {"type": "Scenario", "value": "新员工入职"}
  ]
}
```

#### 3. Query_Hotspot - 查询热点

**定义**: 用户想了解某个行业热点、政策文件或趋势报告。

**关键词**: 热点、最近、政策、报告、更新、解读

**示例**:
- ✅ "最近的行业热点有哪些？"
- ✅ "XX政策文件的解读"
- ✅ "数据安全法更新了什么内容？"
- ✅ "AIGC技术报告说了什么？"

**标注格式**:
```json
{
  "intent": "Query_Hotspot",
  "entities": [
    {"type": "Hotspot", "value": "数据安全法更新"}
  ]
}
```

#### 4. Find_Relationship - 查找关联关系 ⭐核心⭐

**定义**: 用户想了解资产、场景、热点之间的关联关系。这是最重要的意图类型。

**关键词**: 
- 应用在、用于、需要、使用
- 影响、关联、相关
- 依赖、支持

**典型模式**:
- 资产 + 场景: "XX资产应用在哪些场景？"
- 场景 + 资产: "XX场景需要哪些资产？"
- 热点 + 资产: "XX热点对哪些资产有影响？"
- 热点 + 场景: "XX热点关联到哪些场景？"

**示例**:
- ✅ "资产A应用在哪些场景？"
- ✅ "热点B影响了哪些资产？"
- ✅ "场景C需要哪些资产支持？"
- ✅ "数据安全法更新对客户管理系统有什么影响？"
- ✅ "新员工入职场景的核心资产有哪些？"

**标注格式**:
```json
{
  "intent": "Find_Relationship",
  "entities": [
    {"type": "Asset", "value": "客户管理系统"},
    {"type": "Scenario", "value": "新员工入职"}
  ]
}
```

#### 5. OOD - 域外问题

**定义**: 与资产、场景、热点无关的问题，包括闲聊、常识问答等。

**示例**:
- ✅ "今天天气怎么样？"
- ✅ "帮我写个笑话"
- ✅ "你叫什么名字？"
- ✅ "1+1等于几？"
- ✅ "推荐一首歌"

**标注格式**:
```json
{
  "intent": "OOD",
  "entities": []
}
```

### 二、实体标签 (Entity Labels)

#### 1. Asset - 资产

**定义**: 企业内部的系统、平台、接口、数据等资产名称。

**示例**:
- "XX数据平台V3.0"
- "客户关系管理系统"
- "统一认证接口"
- "HR系统"

#### 2. Scenario - 场景

**定义**: 业务场景的名称。

**示例**:
- "月度数据上报"
- "供应商准入"
- "新员工入职"
- "季度财报分析"

#### 3. Hotspot - 热点

**定义**: 行业热点、政策、趋势报告的名称或标题。

**示例**:
- "数据安全法更新"
- "AIGC行业报告"
- "隐私保护新规"

#### 4. Attribute - 属性

**定义**: 资产、场景、热点的属性字段。

**示例**:
- "负责人"
- "版本号"
- "状态"
- "影响范围"
- "角色"

## 标注流程

### 步骤1: 理解查询

仔细阅读用户查询，理解用户的真实意图。

**技巧**:
- 抓住关键动词（查询、应用、影响、需要）
- 识别核心名词（资产名、场景名、热点名）
- 判断是否为领域内问题

### 步骤2: 确定意图

根据查询内容，选择最匹配的意图类型。

**决策树**:
```
问题是否与资产/场景/热点相关？
├─ NO → OOD
└─ YES → 继续判断
    ├─ 只问单个实体的信息？
    │   ├─ 资产 → Query_Asset
    │   ├─ 场景 → Query_Scenario
    │   └─ 热点 → Query_Hotspot
    └─ 问实体之间的关系？ → Find_Relationship
```

### 步骤3: 标注实体

从查询中提取所有相关实体，并标注类型。

**注意事项**:
- 实体值要完整（如"XX数据平台V3.0"，不要只标"XX"）
- 同义词统一（如"负责人"和"Owner"统一为"负责人"）
- 属性词单独标注

### 步骤4: 质量检查

完成标注后，进行自检。

**检查清单**:
- [ ] 意图选择是否正确？
- [ ] 所有实体是否都标注了？
- [ ] 实体类型是否准确？
- [ ] JSON格式是否正确？

## 标注示例

### 示例1: 简单查询

**查询**: "HR系统的负责人是谁？"

**分析**:
- 意图: 查询资产信息
- 实体: HR系统 (Asset)，负责人 (Attribute)

**标注**:
```json
{
  "intent": "Query_Asset",
  "entities": [
    {"type": "Asset", "value": "HR系统"},
    {"type": "Attribute", "value": "负责人"}
  ]
}
```

### 示例2: 关系查询

**查询**: "新员工入职场景需要哪些核心资产？"

**分析**:
- 意图: 查找场景和资产的关系
- 实体: 新员工入职 (Scenario)，核心资产暗示了角色属性

**标注**:
```json
{
  "intent": "Find_Relationship",
  "entities": [
    {"type": "Scenario", "value": "新员工入职"},
    {"type": "Attribute", "value": "核心"}
  ]
}
```

### 示例3: 复杂关系

**查询**: "数据安全法更新对客户管理系统有什么影响？"

**分析**:
- 意图: 查找热点和资产的关系
- 实体: 数据安全法更新 (Hotspot)，客户管理系统 (Asset)，影响 (Attribute)

**标注**:
```json
{
  "intent": "Find_Relationship",
  "entities": [
    {"type": "Hotspot", "value": "数据安全法更新"},
    {"type": "Asset", "value": "客户管理系统"},
    {"type": "Attribute", "value": "影响"}
  ]
}
```

### 示例4: OOD问题

**查询**: "今天天气怎么样？"

**分析**:
- 与业务无关，属于域外问题
- 无需标注实体

**标注**:
```json
{
  "intent": "OOD",
  "entities": []
}
```

## 边界案例处理

### 1. 模糊查询

**查询**: "那个系统的负责人是谁？"

**处理**: 实体不明确，标注为OOD

```json
{
  "intent": "OOD",
  "entities": []
}
```

### 2. 实体不存在

**查询**: "查询不存在的资产XYZ的信息"

**处理**: 意图明确，实体照常标注

```json
{
  "intent": "Query_Asset",
  "entities": [
    {"type": "Asset", "value": "不存在的资产XYZ"}
  ]
}
```

### 3. 多意图混合

**查询**: "XX系统是什么？它用在哪些场景？"

**处理**: 拆分为两个独立的标注

查询1: "XX系统是什么？"
```json
{
  "intent": "Query_Asset",
  "entities": [{"type": "Asset", "value": "XX系统"}]
}
```

查询2: "XX系统用在哪些场景？"
```json
{
  "intent": "Find_Relationship",
  "entities": [{"type": "Asset", "value": "XX系统"}]
}
```

## 质量标准

### 优秀标注 (Good)

✅ 意图准确  
✅ 实体完整  
✅ 类型正确  
✅ 格式规范  

### 不合格标注 (Bad)

❌ 意图选择错误  
❌ 遗漏关键实体  
❌ 实体类型标注错误  
❌ JSON格式不正确  

## 常见错误

### 错误1: 混淆Query和Find_Relationship

**错误示例**:
```
查询: "XX资产应用在哪些场景？"
错误标注: Query_Asset
```

**正确标注**: Find_Relationship（涉及资产和场景的关系）

### 错误2: 实体不完整

**错误示例**:
```
查询: "XX数据平台V3.0的负责人"
错误标注: {"type": "Asset", "value": "XX数据平台"}
```

**正确标注**: {"type": "Asset", "value": "XX数据平台V3.0"}

### 错误3: 遗漏属性实体

**错误示例**:
```
查询: "HR系统的负责人是谁？"
错误标注: 只标注了HR系统，没有标注"负责人"
```

**正确标注**: 两个实体都要标注

## 标注工具使用

### 登录平台

访问: http://annotation-platform.example.com

### 领取任务

1. 点击"待标注任务"
2. 选择可领取的批次
3. 点击"开始标注"

### 提交标注

1. 完成一条标注后点击"保存"
2. 完成整个批次后点击"提交审核"

### 查看反馈

1. 进入"已标注记录"
2. 查看审核意见
3. 修改不合格的标注

## 标注技巧

1. **先易后难**: 从简单的查询开始标注
2. **批量处理**: 相似的查询一起处理
3. **参考样例**: 不确定时参考已审核通过的标注
4. **及时休息**: 连续标注容易出错，注意休息
5. **记录疑问**: 不确定的案例记录下来，集中讨论

## FAQ

**Q: 如果查询中提到多个资产，都要标注吗？**  
A: 是的，所有提到的实体都需要标注。

**Q: 口语化的表达怎么处理？**  
A: 提取核心意图和实体，口语化表达也要正确标注。

**Q: 遇到不认识的专业术语怎么办？**  
A: 标记为"需讨论"，与团队确认后再标注。

**Q: 标注错了可以修改吗？**  
A: 可以，在提交审核前可以随时修改。

**Q: 每天需要标注多少条？**  
A: 建议每天30-50条，保证质量比数量更重要。

## 联系方式

- 标注负责人: [姓名]
- 技术支持: [联系方式]
- 讨论群: [群号]

## 附录: 完整标注模板

```json
{
  "messages": [
    {
      "role": "system",
      "content": "你是一个意图识别和实体抽取专家。请分析用户输入，并以JSON格式返回意图和实体。"
    },
    {
      "role": "user",
      "content": "[用户查询]"
    },
    {
      "role": "assistant",
      "content": "{\"intent\": \"[意图类型]\", \"entities\": [{\"type\": \"[实体类型]\", \"value\": \"[实体值]\"}]}"
    }
  ]
}
```

